---
import Layout from '../layouts/Layout.astro';
---

<Layout>
  <!-- WebGL Canvas Background -->
  <div id="webgl-container" class="fixed inset-0 -z-10"></div>

  <!-- Noise Overlay -->
  <div class="noise pointer-events-none"></div>

  <!-- Main Content -->
  <main class="relative min-h-screen" x-data="survivalApp()">

    <!-- Hero Section -->
    <section class="min-h-screen flex flex-col justify-center px-6 md:px-12 lg:px-24">
      <div class="max-w-5xl">
        <!-- Terminal-style greeting -->
        <div class="mb-8 font-mono text-sm text-muted">
          <span class="text-wave-high">$</span> whoami
        </div>

        <!-- Name with glitch effect -->
        <h1
          class="glitch text-6xl md:text-8xl lg:text-9xl font-bold mb-6 tracking-tight"
          data-text="ZAIN"
        >
          <span class="text-gradient-wave">ZAIN</span>
        </h1>

        <!-- Philosophy -->
        <div class="space-y-4 mb-12">
          <p class="text-xl md:text-2xl text-light font-light tracking-wide">
            <span class="text-wave-high font-mono">Action</span>
            <span class="text-muted">=</span>
            <span class="text-wave-low font-mono">f</span>
            <span class="text-muted">(</span>
            <span class="text-pulse font-mono">Survival of Identity</span>
            <span class="text-muted">)</span>
          </p>

          <p class="text-lg text-muted italic">
            ã™ã¹ã¦ã®è¡Œå‹•ã¯ã€ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãŒç”Ÿãå»¶ã³ã‚‹ãŸã‚ã®ã‚‚ã®
          </p>
        </div>

        <!-- Tags -->
        <div class="flex flex-wrap gap-3 mb-12">
          <span class="px-3 py-1 text-sm glass rounded-full text-wave-high border border-wave-high/30">
            Web Engineer
          </span>
          <span class="px-3 py-1 text-sm glass rounded-full text-wave-low border border-wave-low/30">
            ğŸ‡µğŸ‡°â†’ğŸ‡¯ğŸ‡µ
          </span>
          <span class="px-3 py-1 text-sm glass rounded-full text-pulse border border-pulse/30">
            Survivor
          </span>
          <span class="px-3 py-1 text-sm glass rounded-full text-life border border-life/30">
            Pura Vida
          </span>
        </div>

        <!-- Scroll indicator -->
        <div class="animate-float">
          <div class="flex items-center gap-2 text-muted text-sm">
            <span class="w-8 h-px bg-muted"></span>
            <span>scroll to explore</span>
          </div>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section id="about" class="min-h-screen flex items-center px-6 md:px-12 lg:px-24 py-24">
      <div class="max-w-4xl">
        <div class="mb-8 font-mono text-sm text-muted">
          <span class="text-wave-high">$</span> cat about.md
        </div>

        <div class="space-y-8 text-lg leading-relaxed">
          <p class="text-light">
            <span class="text-wave-high font-bold">24æ­³</span>ã€‚Web Engineerã€‚ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹1å¹´ç”Ÿã€‚
          </p>

          <p class="text-muted">
            ãƒ‘ã‚­ã‚¹ã‚¿ãƒ³ã§ç”Ÿã¾ã‚Œã€4æ­³ã§æ—¥æœ¬ã«æ¥ãŸã€‚æ—¥æœ¬ã§ã¯ã€Œå¤–äººã€ã¨å‘¼ã°ã‚Œã€
            ãƒ‘ã‚­ã‚¹ã‚¿ãƒ³ã«å¸°ã‚Œã°ã€Œæ—¥æœ¬äººã€ã¨è¨€ã‚ã‚ŒãŸã€‚
          </p>

          <p class="text-muted">
            <span class="text-pulse">ã©ã£ã¡ã®å›½ã§ã‚‚ã€ç§ã¯ã€Œå¤–ã€ã®äººé–“ã ã£ãŸã€‚</span>
          </p>

          <p class="text-muted">
            åŒæ¥µæ€§éšœå®³ã€‚è™å¾…ã‚µãƒã‚¤ãƒãƒ¼ã€‚å…ƒãƒ ã‚¹ãƒªãƒ ã€‚
            å±æ€§ã‚’ä¸¦ã¹ã‚‹ã¨ã“ã†ãªã‚‹ã€‚ã§ã‚‚ã€ã“ã‚Œã ã‘ã˜ã‚ƒä¼ã‚ã‚‰ãªã„ã“ã¨ãŒãŸãã•ã‚“ã‚ã‚‹ã€‚
          </p>

          <blockquote class="pl-6 border-l-2 border-wave-high text-xl text-light italic">
            "ç§ã®äººç”Ÿã¯ã€Œæ™®é€šã€ã˜ã‚ƒãªã„ã€‚<br>
            ã ã‹ã‚‰æ›¸ãã€‚ç§ã«ã—ã‹æ›¸ã‘ãªã„ã“ã¨ã‚’ã€‚"
          </blockquote>
        </div>
      </div>
    </section>

    <!-- Skills Section -->
    <section id="skills" class="min-h-screen flex items-center px-6 md:px-12 lg:px-24 py-24">
      <div class="w-full max-w-6xl">
        <div class="mb-12 font-mono text-sm text-muted">
          <span class="text-wave-high">$</span> ls -la skills/
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Skill Card -->
          <div class="glass rounded-xl p-6 hover:border-wave-high/50 transition-all duration-300 group">
            <div class="text-3xl mb-4">ğŸ’»</div>
            <h3 class="text-xl font-bold text-light mb-2 group-hover:text-wave-high transition-colors">
              Web Development
            </h3>
            <p class="text-muted text-sm mb-4">
              TypeScript, React, Next.js, Astro, Node.js, Three.js
            </p>
            <div class="flex flex-wrap gap-2">
              <span class="px-2 py-1 text-xs bg-wave-high/10 text-wave-high rounded">TypeScript</span>
              <span class="px-2 py-1 text-xs bg-wave-low/10 text-wave-low rounded">React</span>
              <span class="px-2 py-1 text-xs bg-pulse/10 text-pulse rounded">Three.js</span>
            </div>
          </div>

          <!-- AI Card -->
          <div class="glass rounded-xl p-6 hover:border-wave-low/50 transition-all duration-300 group">
            <div class="text-3xl mb-4">ğŸ¨</div>
            <h3 class="text-xl font-bold text-light mb-2 group-hover:text-wave-low transition-colors">
              AI Image Generation
            </h3>
            <p class="text-muted text-sm mb-4">
              ComfyUI, Stable Diffusion, LoRA Training, Local AI Setup
            </p>
            <div class="flex flex-wrap gap-2">
              <span class="px-2 py-1 text-xs bg-wave-high/10 text-wave-high rounded">ComfyUI</span>
              <span class="px-2 py-1 text-xs bg-wave-low/10 text-wave-low rounded">SD</span>
              <span class="px-2 py-1 text-xs bg-life/10 text-life rounded">Local AI</span>
            </div>
          </div>

          <!-- Writing Card -->
          <div class="glass rounded-xl p-6 hover:border-pulse/50 transition-all duration-300 group">
            <div class="text-3xl mb-4">âœï¸</div>
            <h3 class="text-xl font-bold text-light mb-2 group-hover:text-pulse transition-colors">
              Writing & Content
            </h3>
            <p class="text-muted text-sm mb-4">
              æŠ€è¡“è¨˜äº‹ã€ç”Ÿå­˜æ—¥è¨˜ã€YouTubeã€note
            </p>
            <div class="flex flex-wrap gap-2">
              <span class="px-2 py-1 text-xs bg-wave-high/10 text-wave-high rounded">note</span>
              <span class="px-2 py-1 text-xs bg-pulse/10 text-pulse rounded">YouTube</span>
              <span class="px-2 py-1 text-xs bg-life/10 text-life rounded">Tech Blog</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Articles Section -->
    <section id="articles" class="min-h-screen flex items-center px-6 md:px-12 lg:px-24 py-24">
      <div class="w-full max-w-4xl">
        <div class="mb-12 font-mono text-sm text-muted">
          <span class="text-wave-high">$</span> tail -f articles.log
        </div>

        <div class="space-y-6">
          <!-- Article Item -->
          <a
            href="https://note.com/zain14/n/n4bb5ec70914f"
            target="_blank"
            class="block glass rounded-xl p-6 hover:border-wave-high/50 transition-all duration-300 group"
          >
            <div class="flex items-start justify-between gap-4">
              <div>
                <span class="text-xs text-wave-high font-mono mb-2 block">ğŸ“Œ PINNED</span>
                <h3 class="text-xl font-bold text-light mb-2 group-hover:text-wave-high transition-colors">
                  è‡ªå·±ç´¹ä»‹ï½œãƒ‘ã‚­ã‚¹ã‚¿ãƒ³Ã—æ—¥æœ¬Ã—åŒæ¥µÃ—è™å¾…ã‚µãƒã‚¤ãƒãƒ¼Ã—ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®24æ­³
                </h3>
                <p class="text-muted text-sm">
                  ç§ã¯ã€ã©ã“ã«ã‚‚å±ã›ãªã‹ã£ãŸã€‚ã ã‹ã‚‰æ›¸ãã€‚ç§ã«ã—ã‹æ›¸ã‘ãªã„ã“ã¨ã‚’ã€‚
                </p>
              </div>
              <span class="text-2xl opacity-0 group-hover:opacity-100 transition-opacity">â†’</span>
            </div>
          </a>

          <a
            href="https://note.com/zain14/n/n2adc40260a7a"
            target="_blank"
            class="block glass rounded-xl p-6 hover:border-wave-low/50 transition-all duration-300 group"
          >
            <div class="flex items-start justify-between gap-4">
              <div>
                <span class="text-xs text-wave-low font-mono mb-2 block">ğŸ”¥ POPULAR</span>
                <h3 class="text-xl font-bold text-light mb-2 group-hover:text-wave-low transition-colors">
                  æœˆé¡0å††ã§NSFW AIã‚’è‡ªå®…ã§å‹•ã‹ã™å®Œå…¨ã‚¬ã‚¤ãƒ‰
                </h3>
                <p class="text-muted text-sm">
                  ã‚²ãƒ¼ãƒŸãƒ³ã‚°PCæ´»ç”¨è¡“ - ãƒ­ãƒ¼ã‚«ãƒ«AIç”»åƒç”Ÿæˆã®æ±ºå®šç‰ˆ
                </p>
              </div>
              <span class="text-2xl opacity-0 group-hover:opacity-100 transition-opacity">â†’</span>
            </div>
          </a>

          <a
            href="https://note.com/zain14/n/nc3e8a394636f"
            target="_blank"
            class="block glass rounded-xl p-6 hover:border-pulse/50 transition-all duration-300 group"
          >
            <div class="flex items-start justify-between gap-4">
              <div>
                <span class="text-xs text-pulse font-mono mb-2 block">ğŸ’­ PHILOSOPHY</span>
                <h3 class="text-xl font-bold text-light mb-2 group-hover:text-pulse transition-colors">
                  ã€Œæ™®é€šã«ãªã‚Œãªã„ã€ã¨æ€ã£ã¦ã„ãŸã‘ã©ã€OSãŒé•ã†ã ã‘ã ã£ãŸ
                </h3>
                <p class="text-muted text-sm">
                  è‡ªåˆ†ã‚’è²¬ã‚ã‚‹ã®ã‚’ã‚„ã‚ã¦ã€ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦ç†è§£ã™ã‚‹
                </p>
              </div>
              <span class="text-2xl opacity-0 group-hover:opacity-100 transition-opacity">â†’</span>
            </div>
          </a>
        </div>

        <div class="mt-8 text-center">
          <a
            href="https://note.com/zain14"
            target="_blank"
            class="inline-flex items-center gap-2 px-6 py-3 glass rounded-full text-wave-high hover:bg-wave-high/10 transition-colors"
          >
            <span>View all articles on note</span>
            <span>â†’</span>
          </a>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="min-h-screen flex items-center px-6 md:px-12 lg:px-24 py-24">
      <div class="w-full max-w-3xl">
        <div class="mb-12 font-mono text-sm text-muted">
          <span class="text-wave-high">$</span> echo $CONTACT_INFO
        </div>

        <h2 class="text-4xl md:text-5xl font-bold text-light mb-8">
          Let's <span class="text-gradient-wave">Survive</span> Together
        </h2>

        <p class="text-xl text-muted mb-12">
          ä¸€ç·’ã«ç”Ÿãå»¶ã³ã‚ˆã†ã€‚
        </p>

        <div class="flex flex-wrap gap-4">
          <a
            href="https://twitter.com/Hassanulzain"
            target="_blank"
            class="flex items-center gap-3 px-6 py-4 glass rounded-xl hover:border-wave-high/50 transition-all group"
          >
            <span class="text-2xl">ğ•</span>
            <span class="text-light group-hover:text-wave-high transition-colors">@Hassanulzain</span>
          </a>

          <a
            href="https://note.com/zain14"
            target="_blank"
            class="flex items-center gap-3 px-6 py-4 glass rounded-xl hover:border-wave-low/50 transition-all group"
          >
            <span class="text-2xl">ğŸ“</span>
            <span class="text-light group-hover:text-wave-low transition-colors">note</span>
          </a>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="px-6 md:px-12 lg:px-24 py-12 border-t border-surface">
      <div class="flex flex-col md:flex-row justify-between items-center gap-4">
        <p class="text-muted text-sm font-mono">
          <span class="text-wave-high">Â©</span> 2025 ZAIN. All rights reserved.
        </p>
        <p class="text-muted text-sm italic">
          Pura Vida ğŸŒŠ
        </p>
      </div>
    </footer>

    <!-- Mood Slider (hidden, for demo) -->
    <div class="fixed bottom-6 right-6 glass rounded-xl p-4 z-50">
      <label class="text-xs text-muted block mb-2">Mood Wave</label>
      <input
        type="range"
        min="0"
        max="100"
        value="50"
        class="w-32 accent-wave-high"
        x-model="mood"
        @input="updateMood($event.target.value)"
      >
    </div>

  </main>
</Layout>

<script>
  import Alpine from 'alpinejs';
  import { SurvivalWave } from '../scripts/webgl/SurvivalWave';

  // Keep wave instance OUTSIDE Alpine's reactive scope
  // Alpine proxies break Three.js objects
  let waveInstance: SurvivalWave | null = null;

  // Register Alpine data before starting
  Alpine.data('survivalApp', () => ({
    mood: 50,

    init() {
      const container = document.getElementById('webgl-container');
      if (container && !waveInstance) {
        waveInstance = new SurvivalWave({
          container,
          particleCount: 80
        });
        waveInstance.mount();
      }
    },

    updateMood(value: string) {
      const normalizedMood = parseInt(value) / 100;
      if (waveInstance) {
        waveInstance.setMood(normalizedMood);
      }
    }
  }));

  // Start Alpine
  window.Alpine = Alpine;
  Alpine.start();
</script>
